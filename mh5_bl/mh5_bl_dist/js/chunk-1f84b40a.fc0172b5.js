(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f84b40a"],{"23ea":function(t,a,r){},b0c0:function(t,a,r){var o=r("83ab"),n=r("9bf2").f,i=Function.prototype,e=i.toString,s=/^\s*function ([^ (]*)/,c="name";!o||c in i||n(i,c,{configurable:!0,get:function(){try{return e.call(this).match(s)[1]}catch(t){return""}}})},d4c4:function(t,a,r){"use strict";var o=r("23ea"),n=r.n(o);n.a},d810:function(t,a,r){"use strict";r.r(a);var o=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"order"},[r("div",{staticClass:"order_margin"},[r("van-nav-bar",{staticClass:"left_shop",attrs:{"left-arrow":"",title:"确认订单"},on:{"click-left":t.onClickLeft}},[r("div",{attrs:{slot:"right"},slot:"right"},[t.icon?r("van-icon",{attrs:{name:"cross",color:"#666666",size:"25px"},on:{click:function(a){t.icon=!t.icon}}}):r("van-icon",{attrs:{name:"ellipsis",color:"#666666",size:"25px"},on:{click:function(a){t.icon=!t.icon}}})],1)]),r("div",{staticClass:"dahang"},[1==t.icon?r("van-tabbar",{staticClass:"dahang_tabbar",attrs:{fixed:!1}},[r("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),r("van-tabbar-item",{attrs:{icon:"search",to:"/search"}},[t._v("搜索")]),r("van-tabbar-item",{attrs:{icon:"bars",to:"/class"}},[t._v("分类")]),r("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/shopping"}},[t._v("购物车")]),r("van-tabbar-item",{attrs:{icon:"contact",to:"/me"}},[t._v("我的i百联")])],1):t._e()],1),r("van-contact-card",{attrs:{type:t.cardType,name:t.currentContact.name,tel:t.currentContact.tel},on:{click:t.order}}),r("van-cell",{attrs:{title:"支付方式","is-link":""},on:{click:function(a){t.show=!t.show}}}),r("van-action-sheet",{attrs:{"cancel-text":"取消"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[r("van-radio-group",{model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[r("van-cell-group",[r("van-cell",{attrs:{title:"在线支付",clickable:""},on:{click:function(a){t.radio="1"}}},[r("van-radio",{attrs:{slot:"right-icon",name:"1"},slot:"right-icon"})],1),r("van-cell",{attrs:{title:"货到付款",clickable:""},on:{click:function(a){t.radio="2"}}},[r("van-radio",{attrs:{slot:"right-icon",name:"2"},slot:"right-icon"})],1)],1)],1)],1),r("van-grid",t._l(t.goodsData,(function(a,o){return r("van-card",{key:o,attrs:{price:a.price,title:a.goods_name.slice(0,20),thumb:a.image}},[r("div",{attrs:{slot:"footer"},slot:"footer"},[r("p",{staticClass:"shu"},[t._v("×"+t._s(t.orderSorry_cart))]),r("p",{staticClass:"mian"},[t._v("免邮")]),r("hr",{staticClass:"hr"}),r("p",[t._v(" 合计: "),r("span",{staticClass:"qian"},[t._v("￥"+t._s(a.price*t.orderSorry_cart))])])]),r("div",{attrs:{slot:"tags"},slot:"tags"},[r("p",{staticClass:"qitian1"},[t._v("七天无理由退换货")])])])})),1),r("van-nav-bar",{staticClass:"submit",attrs:{"left-text":"配送方式"}},[r("van-radio-group",{attrs:{slot:"right"},slot:"right",model:{value:t.radios,callback:function(a){t.radios=a},expression:"radios"}},[r("van-radio",{staticClass:"wu",attrs:{name:"1"}},[t._v("物流配送")]),r("van-radio",{staticClass:"men",attrs:{name:"2"}},[t._v("门店自提")])],1)],1)],1),r("van-submit-bar",{staticClass:"submit",attrs:{price:t.totalPrices,"button-text":"提交订单"},on:{submit:t.onSubmit}})],1)},n=[],i=(r("a4d3"),r("4de4"),r("4160"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),e=r("2f62");function s(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.push.apply(r,o)}return r}function c(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?s(r,!0).forEach((function(a){Object(i["a"])(t,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))}))}return t}var l={data:function(){return{cart:JSON.parse(localStorage.getItem("cart")),orderSorry_cart:localStorage.getItem("orderSorry_cart")||0,goodsData:[],chosenContactId:null,editingContact:{},showList:!1,showEdit:!1,isEdit:!1,icon:!1,show:!1,radio:"1",radios:"1",list:[{name:"s",tel:"s",id:0}]}},methods:c({},Object(e["b"])(["getInfoData"]),{onClickLeft:function(){window.history.back(-1)},order:function(){this.showList=!0,this.$router.push("/address")},order_shop:function(){var t=this,a=localStorage.getItem("orderSorry_id");this.$http.get("/cart_goods",{params:{goods_id:a}}).then((function(a){t.goodsData=a.data.data}))},onSubmit:function(){var t=this;localStorage.setItem("totalPrices",this.totalPrices/100);var a=[];this.goodsData.forEach((function(r,o){a.push({goods_id:r.id,buy_count:t.orderSorry_cart})})),this.$http.post("/orders",{address_id:this.chosenContactId,cart:a}).then((function(a){t.$router.push({path:"/payment",query:{orderId:a.data.data.orderId}})}))},onSelect:function(){this.showList=!1},getList:function(){var t=this;this.$http.get("/address_single",{params:{id:localStorage.getItem("address")||0}}).then((function(a){t.list[0].name=a.data.data[0].shr_name,t.list[0].tel=a.data.data[0].mobile,t.list[0].id=a.data.data[0].id,t.chosenContactId=a.data.data[0].id}))}}),computed:{cardType:function(){return null!==this.chosenContactId?"edit":"add"},currentContact:function(){var t=this.chosenContactId;return null!==t?this.list.filter((function(a){return a.id===t}))[0]:{}},totalPrices:function(){var t=this,a=0;return this.goodsData.forEach((function(r){a+=r.price*t.orderSorry_cart})),100*a}},created:function(){this.order_shop(),this.getList()}},d=l,u=(r("d4c4"),r("2877")),h=Object(u["a"])(d,o,n,!1,null,null,null);a["default"]=h.exports}}]);
//# sourceMappingURL=chunk-1f84b40a.fc0172b5.js.map